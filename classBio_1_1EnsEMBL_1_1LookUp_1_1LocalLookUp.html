<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Ensembl Genomes API: Bio::EnsEMBL::LookUp::LocalLookUp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ensembl Genomes API
   </div>
   <div id="projectbrief">Auxillary Perl API for Ensembl Genomes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>Bio</b></li><li class="navelem"><b>EnsEMBL</b></li><li class="navelem"><b>LookUp</b></li><li class="navelem"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html">LocalLookUp</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Bio::EnsEMBL::LookUp::LocalLookUp Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab78380bb6a3ec6c927925f07b4079964"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ab78380bb6a3ec6c927925f07b4079964">new</a> ()</td></tr>
<tr class="separator:ab78380bb6a3ec6c927925f07b4079964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e44afef58e07ac928c5ee914a06978b"><td class="memItemLeft" align="right" valign="top">public Registry&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a6e44afef58e07ac928c5ee914a06978b">registry</a> ()</td></tr>
<tr class="separator:a6e44afef58e07ac928c5ee914a06978b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee125b8711d27105f9ee47f9d4f13f6f"><td class="memItemLeft" align="right" valign="top">public File&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aee125b8711d27105f9ee47f9d4f13f6f">cache_file</a> ()</td></tr>
<tr class="separator:aee125b8711d27105f9ee47f9d4f13f6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e048fa6ac0febfc23051767c9beea83"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a6e048fa6ac0febfc23051767c9beea83">update_from_registry</a> ()</td></tr>
<tr class="separator:a6e048fa6ac0febfc23051767c9beea83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747cc736051212b616e1df95eb36ba70"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a747cc736051212b616e1df95eb36ba70">taxonomy_adaptor</a> ()</td></tr>
<tr class="separator:a747cc736051212b616e1df95eb36ba70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0434605173ace845ee151b6bad07ff5"><td class="memItemLeft" align="right" valign="top">protected void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ad0434605173ace845ee151b6bad07ff5">_register_dba</a> ()</td></tr>
<tr class="separator:ad0434605173ace845ee151b6bad07ff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5ffdeaa984aa8205f8a094e05628ef"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aac5ffdeaa984aa8205f8a094e05628ef">_dba_id</a> ()</td></tr>
<tr class="separator:aac5ffdeaa984aa8205f8a094e05628ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a7bdd9e6c2d9eda1927e239d74addf"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ae3a7bdd9e6c2d9eda1927e239d74addf">_get_dbc_meta</a> ()</td></tr>
<tr class="separator:ae3a7bdd9e6c2d9eda1927e239d74addf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26d0d45e2a28d72e47e82ce693cf3d27"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a26d0d45e2a28d72e47e82ce693cf3d27">_hash_dba</a> ()</td></tr>
<tr class="separator:a26d0d45e2a28d72e47e82ce693cf3d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdcfa544a971a80845c7947424a69273"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#afdcfa544a971a80845c7947424a69273">_hash_dba_from_values</a> ()</td></tr>
<tr class="separator:afdcfa544a971a80845c7947424a69273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c537892239126ceedc8a951e526223"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a59c537892239126ceedc8a951e526223">_invert_dba_hash</a> ()</td></tr>
<tr class="separator:a59c537892239126ceedc8a951e526223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc44c74c3a2ec3608636b722a7039548"><td class="memItemLeft" align="right" valign="top">protected Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#adc44c74c3a2ec3608636b722a7039548">_registry_to_hash</a> ()</td></tr>
<tr class="separator:adc44c74c3a2ec3608636b722a7039548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa23978416bc0e7ab0ad0f06e46858c84"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aa23978416bc0e7ab0ad0f06e46858c84">_registry_to_json</a> ()</td></tr>
<tr class="separator:aa23978416bc0e7ab0ad0f06e46858c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c72f3de0b7bef96ba8f8d8cf862f44"><td class="memItemLeft" align="right" valign="top">public void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aa4c72f3de0b7bef96ba8f8d8cf862f44">write_registry_to_file</a> ()</td></tr>
<tr class="separator:aa4c72f3de0b7bef96ba8f8d8cf862f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27ba13e5e557660cb2cbd7b046175ce0"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a27ba13e5e557660cb2cbd7b046175ce0">clear_cache</a> ()</td></tr>
<tr class="separator:a27ba13e5e557660cb2cbd7b046175ce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2812ef6af35928285355e5791a3f92c"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aa2812ef6af35928285355e5791a3f92c">_load_registry_from_json</a> ()</td></tr>
<tr class="separator:aa2812ef6af35928285355e5791a3f92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b69cc4af6ad4a2ec86e8d0f21399d7a"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a0b69cc4af6ad4a2ec86e8d0f21399d7a">load_registry_from_file</a> ()</td></tr>
<tr class="separator:a0b69cc4af6ad4a2ec86e8d0f21399d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74356e09c3243bcbab5121c24c26eee6"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a74356e09c3243bcbab5121c24c26eee6">load_registry_from_url</a> ()</td></tr>
<tr class="separator:a74356e09c3243bcbab5121c24c26eee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec0fe00c367b83a3f60014c7eaf4f68"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#abec0fe00c367b83a3f60014c7eaf4f68">dba_to_args</a> ()</td></tr>
<tr class="separator:abec0fe00c367b83a3f60014c7eaf4f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33750117ab1c474dd86ac60ffd7a0746"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a33750117ab1c474dd86ac60ffd7a0746">_dba_to_locator</a> ()</td></tr>
<tr class="separator:a33750117ab1c474dd86ac60ffd7a0746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5521e5f6f171fe369f8834e37dba80"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a2e5521e5f6f171fe369f8834e37dba80">_dbc_to_locator</a> ()</td></tr>
<tr class="separator:a2e5521e5f6f171fe369f8834e37dba80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827cef7b7c1068abcefa575826e8d325"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a827cef7b7c1068abcefa575826e8d325">_intern_db_connections</a> ()</td></tr>
<tr class="separator:a827cef7b7c1068abcefa575826e8d325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac78e43c2af6f50038c6ced78ce345855"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac78e43c2af6f50038c6ced78ce345855">get_all_DBConnections</a> ()</td></tr>
<tr class="separator:ac78e43c2af6f50038c6ced78ce345855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6033f7cc60294138811c3c611e884fa"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aa6033f7cc60294138811c3c611e884fa">get_all_dbnames</a> ()</td></tr>
<tr class="separator:aa6033f7cc60294138811c3c611e884fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f90bc111e5b9ee167c0853ef7298e0a"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a7f90bc111e5b9ee167c0853ef7298e0a">get_all</a> ()</td></tr>
<tr class="separator:a7f90bc111e5b9ee167c0853ef7298e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e6aab80a79229eefdab5395ca7d56e3"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a9e6aab80a79229eefdab5395ca7d56e3">get_all_by_taxon_branch</a> ()</td></tr>
<tr class="separator:a9e6aab80a79229eefdab5395ca7d56e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb07f5441b9b25ea8ffe85b93f7ac1c"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a1cb07f5441b9b25ea8ffe85b93f7ac1c">get_all_by_taxon_id</a> ()</td></tr>
<tr class="separator:a1cb07f5441b9b25ea8ffe85b93f7ac1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4371b3e5c7129d9cf277e294cc0a5e"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a8e4371b3e5c7129d9cf277e294cc0a5e">get_by_name_exact</a> ()</td></tr>
<tr class="separator:a8e4371b3e5c7129d9cf277e294cc0a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4118bf6e1922602c1f296bed76e4dddf"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a4118bf6e1922602c1f296bed76e4dddf">get_all_by_accession</a> ()</td></tr>
<tr class="separator:a4118bf6e1922602c1f296bed76e4dddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b2a99f0bcc7d7c03d30159526577f7"><td class="memItemLeft" align="right" valign="top">public <br class="typebreak"/>
Bio::EnsEMBL::DBSQL::DatabaseAdaptor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ad8b2a99f0bcc7d7c03d30159526577f7">get_by_assembly_accession</a> ()</td></tr>
<tr class="separator:ad8b2a99f0bcc7d7c03d30159526577f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d19a031f2228d203741fb04ba9ba931"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a0d19a031f2228d203741fb04ba9ba931">get_all_by_name_pattern</a> ()</td></tr>
<tr class="separator:a0d19a031f2228d203741fb04ba9ba931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51ea23e88d57638d80daddb9b425618"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aa51ea23e88d57638d80daddb9b425618">get_all_by_dbname</a> ()</td></tr>
<tr class="separator:aa51ea23e88d57638d80daddb9b425618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3bcc587a34d213de61c101fa56574ce"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ab3bcc587a34d213de61c101fa56574ce">get_all_taxon_ids</a> ()</td></tr>
<tr class="separator:ab3bcc587a34d213de61c101fa56574ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7351dd3762ae8b47055a3ec875a994"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ace7351dd3762ae8b47055a3ec875a994">get_all_names</a> ()</td></tr>
<tr class="separator:ace7351dd3762ae8b47055a3ec875a994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5d859c22be7afc9ef9444d618d7bd4f"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ab5d859c22be7afc9ef9444d618d7bd4f">get_all_accessions</a> ()</td></tr>
<tr class="separator:ab5d859c22be7afc9ef9444d618d7bd4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab19b87fe6efb3a24087f9da2776603e1"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ab19b87fe6efb3a24087f9da2776603e1">get_all_versioned_accessions</a> ()</td></tr>
<tr class="separator:ab19b87fe6efb3a24087f9da2776603e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8775d77a2d02b201dcc52ac0d42e7f8f"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a8775d77a2d02b201dcc52ac0d42e7f8f">get_all_assemblies</a> ()</td></tr>
<tr class="separator:a8775d77a2d02b201dcc52ac0d42e7f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7d5c135fedb671a2abf8db8f92630b"><td class="memItemLeft" align="right" valign="top">public Arrayref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a5c7d5c135fedb671a2abf8db8f92630b">get_all_versioned_assemblies</a> ()</td></tr>
<tr class="separator:a5c7d5c135fedb671a2abf8db8f92630b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a05fa751b5559b883a114392f31ad9"><td class="memItemLeft" align="right" valign="top">public void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ae9a05fa751b5559b883a114392f31ad9">register_all_dbs</a> ()</td></tr>
<tr class="separator:ae9a05fa751b5559b883a114392f31ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6087a191688596a0169895507c2e1948"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a6087a191688596a0169895507c2e1948">_register_singlespecies_core</a> ()</td></tr>
<tr class="separator:a6087a191688596a0169895507c2e1948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8f87ea6f820cdc85a9cef64f5cc527"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a7d8f87ea6f820cdc85a9cef64f5cc527">_register_multispecies_core</a> ()</td></tr>
<tr class="separator:a7d8f87ea6f820cdc85a9cef64f5cc527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c99d86b9a020fece52506728ca5ec29"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a1c99d86b9a020fece52506728ca5ec29">_register_multispecies_x</a> ()</td></tr>
<tr class="separator:a1c99d86b9a020fece52506728ca5ec29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c7dc6659087ab9c9686746a4521653"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ad3c7dc6659087ab9c9686746a4521653">_query_multispecies_db</a> ()</td></tr>
<tr class="separator:ad3c7dc6659087ab9c9686746a4521653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5135d70a780c28ea235e9ff54468b52"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac5135d70a780c28ea235e9ff54468b52">_add_aliases</a> ()</td></tr>
<tr class="separator:ac5135d70a780c28ea235e9ff54468b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ffd3a55a3881567d6812feb36fb1ac"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac3ffd3a55a3881567d6812feb36fb1ac">_runtime_include</a> ()</td></tr>
<tr class="separator:ac3ffd3a55a3881567d6812feb36fb1ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1905013637d49ee18e9d1bc431c192f"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac1905013637d49ee18e9d1bc431c192f">_check_name</a> ()</td></tr>
<tr class="separator:ac1905013637d49ee18e9d1bc431c192f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac49a845c8df4c1629fef71a5a8a174c2"><td class="memItemLeft" align="right" valign="top">protected&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac49a845c8df4c1629fef71a5a8a174c2">_login_hash</a> ()</td></tr>
<tr class="separator:ac49a845c8df4c1629fef71a5a8a174c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="Synopsis"></a>
Synopsis</h1>
<div class="fragment"><div class="line"><span class="preprocessor"># creation from a database server</span></div>
<div class="line"><span class="preprocessor"></span>Bio::EnsEMBL::LookUp::LocalLookUp-&gt;register_all_dbs( $conf-&gt;{host},</div>
<div class="line">       $conf-&gt;{port}, $conf-&gt;{user}, $conf-&gt;{pass}, $conf-&gt;{db});</div>
<div class="line">my $lookup = Bio::EnsEMBL::LookUp::LocalLookUp-&gt;new();</div>
<div class="line">my $dbas = $lookup-&gt;registry()-&gt;get_all();</div>
<div class="line">$dbas = $lookup-&gt;get_all_by_taxon_id(388919);</div>
<div class="line">$dbas = $lookup-&gt;get_by_name_pattern(<span class="stringliteral">&quot;Escherichia.*&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># creation from a URL</span></div>
<div class="line"><span class="preprocessor">my $lookup = Bio::EnsEMBL::LookUp::::LocalLookUp-&gt;new(-URL=&gt;&#39;http://bacteria.ensembl.org/registry.json&#39;);</span></div>
</div><!-- fragment --> <h1><a class="anchor" id="Description"></a>
Description</h1>
 <pre>
This module is an implementation of Bio::EnsEMBL::LookUp that uses a local hash to store information about available Ensembl Genomes data. 
It can be constructed in a number of different ways:

A remote cache file containing a JSON representation of the hash can be supplied:

    my $lookup = Bio::EnsEMBL::LookUp::LocalLookUp->new(-URL=>'http://bacteria.ensembl.org/registry.json');

Alternatively, a local file containing the required JSON can be specified instead:

    my $lookup = Bio::EnsEMBL::LookUp::LocalLookUp->new(-FILE=>"/path/to/reg.json");

Finally, a Registry already loaded with core databases can be supplied:

    my $lookup = Bio::EnsEMBL::LookUp::LocalLookUp->new(-REGISTRY=>'Bio::EnsEMBL::Registry');

If the standard Registry is used, the argument can be omitted completely:

    my $lookup = Bio::EnsEMBL::LookUp::LocalLookUp->new();

To populate the registry with just the Ensembl Genomes databases for the current software 
release on a specified server, the following method can be used:

    Bio::EnsEMBL::LookUp::LocalLookUp->register_all_dbs( $host,
       $port, $user, $pass);

Once a lookup has been created, it can be used as specified in Bio::EnsEMBL::LookUp

</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac5135d70a780c28ea235e9ff54468b52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_add_aliases </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Registry all aliases
    Argument    : Species name
    Argument    : Arrayref of alias strings
 </pre><div id="codesection-_add_aliases" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_add_aliases-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_add_aliases-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_add_aliases-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac5135d70a780c28ea235e9ff54468b52">_add_aliases</a> {</div>
<div class="line">  my ( $species_name, $alias_ref ) = @_;</div>
<div class="line">  <span class="keywordflow">if</span> ( defined $alias_ref ) {</div>
<div class="line">    <span class="keywordflow">if</span> ( ref($alias_ref) ne <span class="stringliteral">&#39;ARRAY&#39;</span> ) {</div>
<div class="line">      $alias_ref = [$alias_ref];</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ( scalar( @{$alias_ref} ) &gt; 0 ) {</div>
<div class="line">      Bio::EnsEMBL::Utils::ConfigRegistry-&gt;add_alias(</div>
<div class="line">                                              -species =&gt; $species_name,</div>
<div class="line">                                              -alias   =&gt; $alias_ref );</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ac1905013637d49ee18e9d1bc431c192f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_check_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Check that the name is not longer than 64 characters
    Argument    : Name to check
 </pre><div id="codesection-_check_name" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_check_name-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_check_name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_check_name-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac1905013637d49ee18e9d1bc431c192f">_check_name</a> {</div>
<div class="line"><span class="preprocessor">  #Throws a wobbly if the db name is longer than 64 characters</span></div>
<div class="line"><span class="preprocessor"></span>  my ($name) = @_;</div>
<div class="line">  my $length = length($name);</div>
<div class="line">  <span class="keywordflow">throw</span>(</div>
<div class="line"><span class="stringliteral">&quot;Invalid length for database name used. Max is 64. The name ${name}- was ${length}&quot;</span></div>
<div class="line">  ) <span class="keywordflow">if</span> $length &gt; 64;</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="aac5ffdeaa984aa8205f8a094e05628ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_dba_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_dba_id" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_dba_id-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_dba_id-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_dba_id-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aac5ffdeaa984aa8205f8a094e05628ef">_dba_id</a> {</div>
<div class="line">  my ( $self, $dba ) = @_;</div>
<div class="line">  <span class="keywordflow">return</span> $dba-&gt;dbc()-&gt;dbname() . <span class="charliteral">&#39;/&#39;</span> . $dba-&gt;species_id();</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a33750117ab1c474dd86ac60ffd7a0746"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_dba_to_locator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : return a hash key for a DBAdaptor
    Argument    : Bio::EnsEMBL::DBAdaptor
 </pre><div id="codesection-_dba_to_locator" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_dba_to_locator-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_dba_to_locator-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_dba_to_locator-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a33750117ab1c474dd86ac60ffd7a0746">_dba_to_locator</a> {</div>
<div class="line">  my ($dba) = @_;</div>
<div class="line">  confess(</div>
<div class="line">    <span class="stringliteral">&quot;Argument must be Bio::EnsEMBL::DBSQL::DBAdaptor not &quot;</span> . ref($dba) )</div>
<div class="line">    unless ref($dba) eq &quot;Bio::EnsEMBL::DBSQL::DBAdaptor&quot;;</div>
<div class="line">  my $locator =</div>
<div class="line">    join( q{!-!}, $dba-&gt;species_id(), <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a2e5521e5f6f171fe369f8834e37dba80">_dbc_to_locator</a>( $dba-&gt;dbc() ) );</div>
<div class="line">  <span class="keywordflow">return</span> $locator;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a2e5521e5f6f171fe369f8834e37dba80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_dbc_to_locator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : return a hash key for a DBConnection
    Argument    : Bio::EnsEMBL::DBConnection
 </pre><div id="codesection-_dbc_to_locator" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_dbc_to_locator-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_dbc_to_locator-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_dbc_to_locator-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a2e5521e5f6f171fe369f8834e37dba80">_dbc_to_locator</a> {</div>
<div class="line">  my ($dbc) = @_;</div>
<div class="line">  my $locator = join( q{!-!},</div>
<div class="line">                      $dbc-&gt;host(),   $dbc-&gt;dbname(),</div>
<div class="line">                      $dbc-&gt;driver(), $dbc-&gt;port(),</div>
<div class="line">                      $dbc-&gt;username() );</div>
<div class="line">  <span class="keywordflow">return</span> $locator;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ae3a7bdd9e6c2d9eda1927e239d74addf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_get_dbc_meta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_get_dbc_meta" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_get_dbc_meta-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_get_dbc_meta-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_get_dbc_meta-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ae3a7bdd9e6c2d9eda1927e239d74addf">_get_dbc_meta</a> {</div>
<div class="line">  my ( $self, $dbc ) = @_;</div>
<div class="line">  my $name = $dbc-&gt;dbname();</div>
<div class="line">  <span class="keywordflow">if</span> ( !defined $self-&gt;{dbc_meta}{$name} ) {</div>
<div class="line"><span class="preprocessor">    # load metadata in batch for the whole database</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{dbc_meta}{$name} = {};</div>
<div class="line"><span class="preprocessor">    # taxid</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    $dbc-&gt;sql_helper()-&gt;execute(</div>
<div class="line">      -SQL =&gt;</div>
<div class="line">q/select species_id,meta_value from meta where meta_key=<span class="stringliteral">&#39;species.taxonomy_id&#39;</span>/,</div>
<div class="line">      -PARAMS   =&gt; [],</div>
<div class="line">      -CALLBACK =&gt; sub {</div>
<div class="line">        my $row = shift @_;</div>
<div class="line">        $self-&gt;{dbc_meta}{$name}{ $row-&gt;[0] }{taxid} = $row-&gt;[1];</div>
<div class="line">      } );</div>
<div class="line"><span class="preprocessor">    # aliases</span></div>
<div class="line"><span class="preprocessor"></span>    $dbc-&gt;sql_helper()-&gt;execute(</div>
<div class="line">      -SQL =&gt;</div>
<div class="line"><span class="stringliteral">&#39;select species_id,meta_value from meta where meta_key=\&#39;species.alias\&#39;&#39;</span>,</div>
<div class="line">      -PARAMS   =&gt; [],</div>
<div class="line">      -CALLBACK =&gt; sub {</div>
<div class="line">        my @row = @{ shift @_ };</div>
<div class="line">        push @{ $self-&gt;{dbc_meta}{$name}{ $row[0] }{aliases} }, $row[1];</div>
<div class="line">      } );</div>
<div class="line"><span class="preprocessor">    # assembly.accession</span></div>
<div class="line"><span class="preprocessor"></span>    $dbc-&gt;sql_helper()-&gt;execute(</div>
<div class="line">      -SQL =&gt;</div>
<div class="line"><span class="stringliteral">&#39;select species_id,meta_value from meta where meta_key=\&#39;assembly.accession\&#39;&#39;</span>,</div>
<div class="line">      -PARAMS   =&gt; [],</div>
<div class="line">      -CALLBACK =&gt; sub {</div>
<div class="line">        my @row = @{ shift @_ };</div>
<div class="line">        $self-&gt;{dbc_meta}{$name}{ $row[0] }{assembly_accession} =</div>
<div class="line">          $row[1];</div>
<div class="line">      } );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(!defined $self-&gt;{skip_contigs}) {</div>
<div class="line"><span class="preprocessor">    # seq_region_names and synonyms</span></div>
<div class="line"><span class="preprocessor"></span>    $dbc-&gt;sql_helper()-&gt;execute(</div>
<div class="line">      -SQL =&gt;</div>
<div class="line">        q/select cs.species_id,sr.name,ss.synonym from coord_system cs </div>
<div class="line">      join seq_region sr using (coord_system_id) </div>
<div class="line">      left join seq_region_synonym ss <span class="keyword">using</span> (seq_region_id)/,</div>
<div class="line">      -PARAMS   =&gt; [],</div>
<div class="line">      -CALLBACK =&gt; sub {</div>
<div class="line">        my @row = @{ shift @_ };</div>
<div class="line">        push @{ $self-&gt;{dbc_meta}{$name}{ $row[0] }{accessions} },</div>
<div class="line">          $row[1];</div>
<div class="line">        <span class="keywordflow">if</span> ( defined $row[2] ) {</div>
<div class="line">          push @{ $self-&gt;{dbc_meta}{$name}{ $row[0] }{accessions} },</div>
<div class="line">            $row[2];</div>
<div class="line">        }</div>
<div class="line">      } );</div>
<div class="line">        }</div>
<div class="line">  } ## end <span class="keywordflow">if</span> ( !defined $self-&gt;{...})</div>
<div class="line">  <span class="keywordflow">return</span> $self-&gt;{dbc_meta}{$name};</div>
<div class="line">} ## end sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ae3a7bdd9e6c2d9eda1927e239d74addf">_get_dbc_meta</a></div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a26d0d45e2a28d72e47e82ce693cf3d27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_hash_dba </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Add details from a DBAdaptor to the internal hashes of details
    Argument    : Bio::EnsEMBL::DBAdaptor
    Argument    : (optional) If set to 1, do not update from a DBAdaptor if already processed (allows updates of an existing <a class="el" href="classBio_1_1EnsEMBL_1_1LookUp.html">LookUp</a> instance)
 </pre><div id="codesection-_hash_dba" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_hash_dba-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_hash_dba-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_hash_dba-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a26d0d45e2a28d72e47e82ce693cf3d27">_hash_dba</a> {</div>
<div class="line">  my ( $self, $dba, $update_only ) = @_;</div>
<div class="line">  my $nom = $self-&gt;_dba_id($dba);</div>
<div class="line">  <span class="keywordflow">if</span> ( !defined $update_only || !defined $self-&gt;{dbas}{$nom} ) {</div>
<div class="line">    my $dbc_meta = $self-&gt;_get_dbc_meta( $dba-&gt;dbc() );</div>
<div class="line">    my $dba_meta = $dbc_meta-&gt;{ $dba-&gt;species_id() };</div>
<div class="line">    $self-&gt;_hash_dba_from_values( $dba,</div>
<div class="line">                                  [ $dba_meta-&gt;{taxid} ],</div>
<div class="line">                                  $dba_meta-&gt;{aliases},</div>
<div class="line">                                  $dba_meta-&gt;{accessions},</div>
<div class="line">                                  $dba_meta-&gt;{assembly_accession} );</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="afdcfa544a971a80845c7947424a69273"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_hash_dba_from_values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Add supplied details to the internal hashes of details
    Argument    : Bio::EnsEMBL::DBAdaptor to hash
    Argument    : Arrayref of taxonomy IDs to use as keys
    Argument    : Arrayref of aliases to use as keys
    Argument    : Arrayref of ENA accessions to use as keys
 </pre><div id="codesection-_hash_dba_from_values" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_hash_dba_from_values-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_hash_dba_from_values-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_hash_dba_from_values-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#afdcfa544a971a80845c7947424a69273">_hash_dba_from_values</a> {</div>
<div class="line">  my ( $self, $dba, $taxids, $aliases, $accessions, $vgc ) = @_;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> my $taxid ( @{$taxids} ) {</div>
<div class="line">    <span class="keywordflow">if</span> ( defined $taxid ) {</div>
<div class="line">      push @{ $self-&gt;{dbas_by_taxid}{$taxid} }, $dba;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">for</span> my $name ( <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp.html#a555cb63ba0611127ed3c0742756e0346">uniq</a>( @{$aliases} ) ) {</div>
<div class="line">    push @{ $self-&gt;{dbas_by_name}{$name} }, $dba;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">for</span> my $acc ( <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp.html#a555cb63ba0611127ed3c0742756e0346">uniq</a>( @{$accessions} ) ) {</div>
<div class="line">    push @{ $self-&gt;{dbas_by_vacc}{$acc} }, $dba;</div>
<div class="line">    $acc =~ s/\.[0-9]+$<span class="comment">//x;</span></div>
<div class="line">    push @{ $self-&gt;{dbas_by_acc}{$acc} }, $dba;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> ( defined $vgc ) {</div>
<div class="line">    <span class="keywordflow">if</span> ( defined $self-&gt;{dbas_by_vgc}{$vgc} ) {</div>
<div class="line">      croak <span class="stringliteral">&quot;DBA with GC accession $vgc already registered&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    $self-&gt;{dbas_by_vgc}{$vgc} = $dba;</div>
<div class="line">    $vgc =~ s/\.[0-9]+$<span class="comment">//x;</span></div>
<div class="line">    <span class="keywordflow">if</span> ( defined $self-&gt;{dbas_by_gc}{$vgc} ) {</div>
<div class="line">      croak <span class="stringliteral">&quot;DBA with GC set chain $vgc already registered&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    $self-&gt;{dbas_by_gc}{$vgc} = $dba;</div>
<div class="line">  }</div>
<div class="line">  $self-&gt;{dbas}{ $self-&gt;_dba_id($dba) } = $dba;</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">} ## end sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#afdcfa544a971a80845c7947424a69273">_hash_dba_from_values</a></div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a827cef7b7c1068abcefa575826e8d325"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_intern_db_connections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>  Description : Go through all available DBAdaptors of registry and ensure they use the same
                DBConnection instance.
  Exceptions  : None
  Status      : At Risk
 </pre><div id="codesection-_intern_db_connections" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_intern_db_connections-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_intern_db_connections-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_intern_db_connections-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a827cef7b7c1068abcefa575826e8d325">_intern_db_connections</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  my $adaptors = $self-&gt;registry()-&gt;get_all_DBAdaptors();</div>
<div class="line">  my %dbc_intern;</div>
<div class="line">  <span class="keywordflow">foreach</span> my $dba ( @{$adaptors} ) {</div>
<div class="line">    my $dbc     = $dba-&gt;dbc();</div>
<div class="line">    my $locator = <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a2e5521e5f6f171fe369f8834e37dba80">_dbc_to_locator</a>($dbc);</div>
<div class="line">    <span class="keywordflow">if</span> ( exists $dbc_intern{$locator} ) {</div>
<div class="line">      $dba-&gt;dbc( $dbc_intern{$locator} );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">      $dbc_intern{$locator} = $dba-&gt;dbc();</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a59c537892239126ceedc8a951e526223"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_invert_dba_hash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_invert_dba_hash" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_invert_dba_hash-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_invert_dba_hash-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_invert_dba_hash-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a59c537892239126ceedc8a951e526223">_invert_dba_hash</a> {</div>
<div class="line">  my ($hash) = @_;</div>
<div class="line">  my $inv_hash;</div>
<div class="line">  <span class="keywordflow">while</span> ( my ( $item, $dbas ) = each( %{$hash} ) ) {</div>
<div class="line">    <span class="keywordflow">if</span> ( ref $dbas ne <span class="stringliteral">&#39;ARRAY&#39;</span> ) {</div>
<div class="line">      $dbas = [$dbas];</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">for</span> my $dba ( @{$dbas} ) {</div>
<div class="line">      my $dba_loc = <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a33750117ab1c474dd86ac60ffd7a0746">_dba_to_locator</a>($dba);</div>
<div class="line">      push @{ $inv_hash-&gt;{$dba_loc} }, $item;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> $inv_hash;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="aa2812ef6af35928285355e5791a3f92c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_load_registry_from_json </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : load the registry from the supplied JSON string
    Argument    : JSON string
 </pre><div id="codesection-_load_registry_from_json" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_load_registry_from_json-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_load_registry_from_json-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_load_registry_from_json-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aa2812ef6af35928285355e5791a3f92c">_load_registry_from_json</a> {</div>
<div class="line">  my ( $self, $json ) = @_;</div>
<div class="line">  my $reg_arr = decode_json($json);</div>
<div class="line">  <span class="keywordflow">for</span> my $dbc_h ( @{$reg_arr} ) {</div>
<div class="line">    my $dbc =</div>
<div class="line">      Bio::EnsEMBL::DBSQL::DBConnection-&gt;new(</div>
<div class="line">                                            -driver =&gt; $dbc_h-&gt;{driver},</div>
<div class="line">                                            -host   =&gt; $dbc_h-&gt;{host},</div>
<div class="line">                                            -port   =&gt; $dbc_h-&gt;{port},</div>
<div class="line">                                            -user =&gt; $dbc_h-&gt;{username},</div>
<div class="line">                                            -pass =&gt; $dbc_h-&gt;{password},</div>
<div class="line">                                            -dbname =&gt; $dbc_h-&gt;{dbname}</div>
<div class="line">      );</div>
<div class="line">    <span class="keywordflow">for</span> my $species ( @{ $dbc_h-&gt;{species} } ) {</div>
<div class="line">      my $dba =</div>
<div class="line">        Bio::EnsEMBL::DBSQL::DBAdaptor-&gt;new(</div>
<div class="line">                                  -DBCONN     =&gt; $dbc,</div>
<div class="line">                                  -species    =&gt; $species-&gt;{species},</div>
<div class="line">                                  -species_id =&gt; $species-&gt;{species_id},</div>
<div class="line">                                  -multispecies_db =&gt; 1,</div>
<div class="line">                                  -group           =&gt; <span class="stringliteral">&#39;core&#39;</span>, );</div>
<div class="line"><span class="preprocessor">      # no need to register - found automagically</span></div>
<div class="line"><span class="preprocessor"></span>      my $gc = $species-&gt;{gc};</div>
<div class="line">      <span class="keywordflow">if</span> ( ref $gc eq <span class="stringliteral">&#39;ARRAY&#39;</span> ) { $gc = $gc-&gt;[0]; }</div>
<div class="line">      $self-&gt;_hash_dba_from_values( $dba,</div>
<div class="line">                                    $species-&gt;{taxids},</div>
<div class="line">                                    $species-&gt;{aliases},</div>
<div class="line">                                    $species-&gt;{accessions},</div>
<div class="line">                                    $species-&gt;{gc} );</div>
<div class="line">    }</div>
<div class="line">  } ## end <span class="keywordflow">for</span> my $dbc_h ( @{$reg_arr...})</div>
<div class="line">  $self-&gt;_intern_db_connections();</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">} ## end sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aa2812ef6af35928285355e5791a3f92c">_load_registry_from_json</a></div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ac49a845c8df4c1629fef71a5a8a174c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_login_hash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Generate dbadaptor login hash from supplied arguments
    Argument    : Host
    Argument    : Port
    Argument    : User
    Argument    : Password
 </pre><div id="codesection-_login_hash" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_login_hash-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_login_hash-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_login_hash-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac49a845c8df4c1629fef71a5a8a174c2">_login_hash</a> {</div>
<div class="line">  my ( $host, $port, $user, $pass ) = @_;</div>
<div class="line">  my %details = ( -HOST =&gt; $host, -PORT =&gt; $port, -USER =&gt; $user );</div>
<div class="line">  $details{-PASS} = $pass <span class="keywordflow">if</span> defined $pass;</div>
<div class="line">  <span class="keywordflow">return</span> %details;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ad3c7dc6659087ab9c9686746a4521653"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_query_multispecies_db </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Find all species in the multispecies database
 </pre><div id="codesection-_query_multispecies_db" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_query_multispecies_db-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_query_multispecies_db-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_query_multispecies_db-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ad3c7dc6659087ab9c9686746a4521653">_query_multispecies_db</a> {</div>
<div class="line">  my ( $species, %db_args ) = @_;</div>
<div class="line">  my @species_array;</div>
<div class="line">  eval {</div>
<div class="line">    my $dbh = Bio::EnsEMBL::DBSQL::DBConnection-&gt;new(%db_args);</div>
<div class="line">    my $sql;</div>
<div class="line">    my @params = (<span class="stringliteral">&#39;species.db_name&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ( defined $species ) {</div>
<div class="line">      $sql =</div>
<div class="line"><span class="stringliteral">&#39;select meta_value, species_id from meta where meta_key =? and meta_value =?&#39;</span>;</div>
<div class="line">      push( @params, $species );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">      $sql =</div>
<div class="line"><span class="stringliteral">&#39;select distinct meta_value, species_id from meta where meta_key =? and species_id is not null&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    my $sth = $dbh-&gt;prepare($sql);</div>
<div class="line">    $sth-&gt;execute(@params);</div>
<div class="line">    <span class="keywordflow">while</span> ( my $row = $sth-&gt;fetchrow_arrayref() ) {</div>
<div class="line">      my ( $species_name, $species_id ) = @{$row};</div>
<div class="line">      push( @species_array,</div>
<div class="line">            { <span class="stringliteral">&#39;-SPECIES&#39;</span>    =&gt; $species_name,</div>
<div class="line">              <span class="stringliteral">&#39;-SPECIES_ID&#39;</span> =&gt; $species_id } );</div>
<div class="line">    }</div>
<div class="line">    $sth-&gt;finish();</div>
<div class="line">  };</div>
<div class="line">  <span class="keywordflow">throw</span>(<span class="stringliteral">&quot;Error detected: $@&quot;</span>) <span class="keywordflow">if</span> $@;</div>
<div class="line">  <span class="keywordflow">return</span> \@species_array;</div>
<div class="line">} ## end sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ad3c7dc6659087ab9c9686746a4521653">_query_multispecies_db</a></div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ad0434605173ace845ee151b6bad07ff5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected void Bio::EnsEMBL::LookUp::LocalLookUp::_register_dba </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Add a single DBAdaptor to the registry and the internal hashes of details
    Argument    : Bio::EnsEMBL::DBAdaptor
    Return      : None
 </pre><div id="codesection-_register_dba" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_register_dba-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_register_dba-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_register_dba-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ad0434605173ace845ee151b6bad07ff5">_register_dba</a> {</div>
<div class="line">  my ( $self, $species, $dba ) = @_;</div>
<div class="line">  $self-&gt;registry()-&gt;add_DBAdaptor( $species, <span class="stringliteral">&quot;core&quot;</span>, $dba );</div>
<div class="line">  $self-&gt;_hash_dba($dba);</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a7d8f87ea6f820cdc85a9cef64f5cc527"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_register_multispecies_core </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Register core dbas for all species in the supplied database
 </pre><div id="codesection-_register_multispecies_core" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_register_multispecies_core-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_register_multispecies_core-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_register_multispecies_core-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a7d8f87ea6f820cdc85a9cef64f5cc527">_register_multispecies_core</a> {</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a1c99d86b9a020fece52506728ca5ec29">_register_multispecies_x</a>(</div>
<div class="line">    <span class="stringliteral">&#39;Bio::EnsEMBL::DBSQL::DBAdaptor&#39;</span>,</div>
<div class="line">    sub {</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a1c99d86b9a020fece52506728ca5ec29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_register_multispecies_x </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Register specified dba type for all species in the supplied database
 </pre><div id="codesection-_register_multispecies_x" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_register_multispecies_x-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_register_multispecies_x-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_register_multispecies_x-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a1c99d86b9a020fece52506728ca5ec29">_register_multispecies_x</a> {</div>
<div class="line"></div>
<div class="line">  my ( $adaptor, $closure, $host, $port, $user, $pass, $instance,</div>
<div class="line">       $species, $alias_arr_ref, $disconnect_when_idle )</div>
<div class="line">    = @_;</div>
<div class="line">  <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac3ffd3a55a3881567d6812feb36fb1ac">_runtime_include</a>($adaptor);</div>
<div class="line">  <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac1905013637d49ee18e9d1bc431c192f">_check_name</a>($instance);</div>
<div class="line">  my %args =</div>
<div class="line">    ( <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac49a845c8df4c1629fef71a5a8a174c2">_login_hash</a>( $host, $port, $user, $pass ), <span class="stringliteral">&#39;-DBNAME&#39;</span>, $instance );</div>
<div class="line">  my @species_array = @{ <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ad3c7dc6659087ab9c9686746a4521653">_query_multispecies_db</a>( $species, %args ) };</div>
<div class="line">  my @dbas;</div>
<div class="line">  <span class="keywordflow">foreach</span> my $species_args (@species_array) {</div>
<div class="line">    my %new_args = ( %args, %{$species_args}, <span class="stringliteral">&#39;-MULTISPECIES_DB&#39;</span> =&gt; 1 );</div>
<div class="line">    $new_args{-DISCONNECT_WHEN_INACTIVE} = 1 <span class="keywordflow">if</span> $disconnect_when_idle;</div>
<div class="line">    my $dba = $closure-&gt;(%new_args);</div>
<div class="line">    <span class="keywordflow">if</span> ( defined $species &amp;&amp; defined $alias_arr_ref ) {</div>
<div class="line">      <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac5135d70a780c28ea235e9ff54468b52">_add_aliases</a>( $species, $alias_arr_ref );</div>
<div class="line">    }</div>
<div class="line">    push( @dbas, $dba );</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> \@dbas;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a6087a191688596a0169895507c2e1948"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_register_singlespecies_core </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Register core dbas for all species in the supplied database
 </pre><div id="codesection-_register_singlespecies_core" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_register_singlespecies_core-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_register_singlespecies_core-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_register_singlespecies_core-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a6087a191688596a0169895507c2e1948">_register_singlespecies_core</a> {</div>
<div class="line">  my ( $host, $port, $user, $pass, $db ) = @_;</div>
<div class="line">  my ( $species, $num ) = (</div>
<div class="line">    $db =~ /(^[a-z]+_[a-z0-9]+(?:_[a-z0-9]+)?)  # species name</div>
<div class="line">                     _</div>
<div class="line">                     core                   # type</div>
<div class="line">                     _</div>
<div class="line">                     (?:\d+_)?               # optional endbit <span class="keywordflow">for</span> ensembl genomes</div>
<div class="line">                     (\d+)                   <span class="preprocessor"># databases release</span></div>
<div class="line"><span class="preprocessor"></span>                     _</div>
<div class="line">                      /x );</div>
<div class="line">  <span class="keywordflow">return</span></div>
<div class="line">    Bio::EnsEMBL::DBSQL::DBAdaptor-&gt;new( -HOST    =&gt; $host,</div>
<div class="line">                                         -PORT    =&gt; $port,</div>
<div class="line">                                         -USER    =&gt; $user,</div>
<div class="line">                                         -PASS    =&gt; $pass,</div>
<div class="line">                                         -DBNAME  =&gt; $db,</div>
<div class="line">                                         -SPECIES =&gt; $species );</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="adc44c74c3a2ec3608636b722a7039548"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::_registry_to_hash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Generate a hash array structure for the current registry and species details for turning to JSON
    Returns     : Arrayref of hashes
 </pre><div id="codesection-_registry_to_hash" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_registry_to_hash-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_registry_to_hash-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_registry_to_hash-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#adc44c74c3a2ec3608636b722a7039548">_registry_to_hash</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line"><span class="preprocessor">  # hash dbcs and dbas by locators</span></div>
<div class="line"><span class="preprocessor"></span>  my $dbc_hash;</div>
<div class="line">  my $dba_hash;</div>
<div class="line">  <span class="keywordflow">for</span> my $dba ( values %{ $self-&gt;{dbas} } ) {</div>
<div class="line">    my $dbc_loc = <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a2e5521e5f6f171fe369f8834e37dba80">_dbc_to_locator</a>( $dba-&gt;dbc() );</div>
<div class="line">    $dbc_hash-&gt;{$dbc_loc} = $dba-&gt;dbc();</div>
<div class="line">    push @{ $dba_hash-&gt;{$dbc_loc} }, $dba;</div>
<div class="line">  }</div>
<div class="line"><span class="preprocessor">  # create auxillary hashes</span></div>
<div class="line"><span class="preprocessor"></span>  my $acc_hash   = <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a59c537892239126ceedc8a951e526223">_invert_dba_hash</a>( $self-&gt;{dbas_by_vacc} );</div>
<div class="line">  my $name_hash  = <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a59c537892239126ceedc8a951e526223">_invert_dba_hash</a>( $self-&gt;{dbas_by_name} );</div>
<div class="line">  my $taxid_hash = <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a59c537892239126ceedc8a951e526223">_invert_dba_hash</a>( $self-&gt;{dbas_by_taxid} );</div>
<div class="line">  my $gc_hash    = <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a59c537892239126ceedc8a951e526223">_invert_dba_hash</a>( $self-&gt;{dbas_by_vgc} );</div>
<div class="line"><span class="preprocessor">  # create array of hashes</span></div>
<div class="line"><span class="preprocessor"></span>  my $out_arr;</div>
<div class="line">  <span class="keywordflow">while</span> ( my ( $dbc_loc, $dbconn ) = each( %{$dbc_hash} ) ) {</div>
<div class="line">    my $dbc_h = { driver   =&gt; $dbconn-&gt;driver(),</div>
<div class="line">                  host     =&gt; $dbconn-&gt;host(),</div>
<div class="line">                  port     =&gt; $dbconn-&gt;port(),</div>
<div class="line">                  username =&gt; $dbconn-&gt;username(),</div>
<div class="line">                  password =&gt; $dbconn-&gt;password(),</div>
<div class="line">                  dbname   =&gt; $dbconn-&gt;dbname(),</div>
<div class="line">                  species  =&gt; [] };</div>
<div class="line">    <span class="keywordflow">for</span> my $dba ( @{ $dba_hash-&gt;{$dbc_loc} } ) {</div>
<div class="line">      my $dba_loc = <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a33750117ab1c474dd86ac60ffd7a0746">_dba_to_locator</a>($dba);</div>
<div class="line">      my $gc      = $gc_hash-&gt;{$dba_loc};</div>
<div class="line">      <span class="keywordflow">if</span> ( ref $gc eq <span class="stringliteral">&#39;ARRAY&#39;</span> ) {</div>
<div class="line">        $gc = $gc-&gt;[0];</div>
<div class="line">      }</div>
<div class="line">      push @{ $dbc_h-&gt;{species} },</div>
<div class="line">        { species_id =&gt; $dba-&gt;species_id(),</div>
<div class="line">          species    =&gt; $dba-&gt;species(),</div>
<div class="line">          taxids     =&gt; $taxid_hash-&gt;{$dba_loc},</div>
<div class="line">          aliases    =&gt; $name_hash-&gt;{$dba_loc},</div>
<div class="line">          accessions =&gt; $acc_hash-&gt;{$dba_loc},</div>
<div class="line">          gc         =&gt; $gc };</div>
<div class="line">    }</div>
<div class="line">    push @{$out_arr}, $dbc_h;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> $out_arr;</div>
<div class="line">} ## end sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#adc44c74c3a2ec3608636b722a7039548">_registry_to_hash</a></div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="aa23978416bc0e7ab0ad0f06e46858c84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_registry_to_json </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-_registry_to_json" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_registry_to_json-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_registry_to_json-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_registry_to_json-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aa23978416bc0e7ab0ad0f06e46858c84">_registry_to_json</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  my $out_arr = $self-&gt;_registry_to_hash();</div>
<div class="line">  my $json;</div>
<div class="line">  <span class="keywordflow">if</span> ($out_arr) {</div>
<div class="line">    $json = encode_json($out_arr);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    carp(<span class="stringliteral">&#39;No DBAs found&#39;</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> $json;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ac3ffd3a55a3881567d6812feb36fb1ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected Bio::EnsEMBL::LookUp::LocalLookUp::_runtime_include </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Load the specified module (usually a DatabaseAdaptor)
    Argument    : Module name
 </pre><div id="codesection-_runtime_include" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-_runtime_include-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_runtime_include-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_runtime_include-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac3ffd3a55a3881567d6812feb36fb1ac">_runtime_include</a> {</div>
<div class="line">  my ($full_module) = @_;</div>
<div class="line"><span class="preprocessor">  ## no critic (ProhibitStringyEval)</span></div>
<div class="line"><span class="preprocessor"></span>  eval <span class="stringliteral">&quot;use ${full_module}&quot;</span> ||</div>
<div class="line">    <span class="keywordflow">throw</span>(<span class="stringliteral">&quot;Cannot import module &#39;${full_module}&#39;: $@&quot;</span>)</div>
<div class="line">    <span class="keywordflow">if</span> $@;</div>
<div class="line"><span class="preprocessor">  ## use critic</span></div>
<div class="line"><span class="preprocessor"></span>  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="aee125b8711d27105f9ee47f9d4f13f6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public File Bio::EnsEMBL::LookUp::LocalLookUp::cache_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>  Arg [1]     : File to use for local caching
  Description : Sets and retrieves the local cache file 
  Returntype  : File name if set; otherwise undef
  Status      : Stable
 </pre><div id="codesection-cache_file" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-cache_file-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cache_file-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cache_file-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aee125b8711d27105f9ee47f9d4f13f6f">cache_file</a> {</div>
<div class="line">  my ( $self, $cache_file ) = @_;</div>
<div class="line">  <span class="keywordflow">if</span> ( defined $cache_file ) {</div>
<div class="line">    $self-&gt;{<a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aee125b8711d27105f9ee47f9d4f13f6f">cache_file</a>} = $cache_file;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> $self-&gt;{<a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aee125b8711d27105f9ee47f9d4f13f6f">cache_file</a>};</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a27ba13e5e557660cb2cbd7b046175ce0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::LookUp::LocalLookUp::clear_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-clear_cache" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-clear_cache-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-clear_cache-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-clear_cache-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a27ba13e5e557660cb2cbd7b046175ce0">clear_cache</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  <span class="keywordflow">if</span> ( defined $self-&gt;cache_file() &amp;&amp; -e $self-&gt;cache_file() ) {</div>
<div class="line">    unlink $self-&gt;cache_file();</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="abec0fe00c367b83a3f60014c7eaf4f68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::dba_to_args </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Dump the arguments needed for contructing a DBA
    Argument    : Bio::EnsEMBL::DBAdaptor
    Return      : Arrayref of args
 </pre><div id="codesection-dba_to_args" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-dba_to_args-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-dba_to_args-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-dba_to_args-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#abec0fe00c367b83a3f60014c7eaf4f68">dba_to_args</a> {</div>
<div class="line">  my ( $self, $dba ) = @_;</div>
<div class="line">  my $dbc = $dba-&gt;dbc();</div>
<div class="line">  my $args = [ -species         =&gt; $dba-&gt;species(),</div>
<div class="line">               -multispecies_db =&gt; $dba-&gt;is_multispecies(),</div>
<div class="line">               -species_id      =&gt; $dba-&gt;species_id(),</div>
<div class="line">               -group           =&gt; $dba-&gt;group(),</div>
<div class="line">               -host            =&gt; $dbc-&gt;host(),</div>
<div class="line">               -port            =&gt; $dbc-&gt;port(),</div>
<div class="line">               -user            =&gt; $dbc-&gt;username(),</div>
<div class="line">               -pass            =&gt; $dbc-&gt;password(),</div>
<div class="line">               -driver          =&gt; $dbc-&gt;driver(),</div>
<div class="line">               -dbname          =&gt; $dbc-&gt;dbname() ];</div>
<div class="line">  <span class="keywordflow">return</span> $args;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a7f90bc111e5b9ee167c0853ef7298e0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Return all database adaptors that have been retrieved from registry
    Argument    : None
    Exceptions  : None
    Return type : Arrayref of Bio::EnsEMBL::DBSQL::DatabaseAdaptor
 </pre><div id="codesection-get_all" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a7f90bc111e5b9ee167c0853ef7298e0a">get_all</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  <span class="keywordflow">return</span> [ values %{ $self-&gt;{dbas} } ];</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ab5d859c22be7afc9ef9444d618d7bd4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_accessions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Return list of all INSDC sequence accessions (or other seq_region names) registered with the helper
    Exceptions  : None
    Return type : Arrayref of strings
 </pre><div id="codesection-get_all_accessions" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_accessions-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_accessions-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_accessions-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ab5d859c22be7afc9ef9444d618d7bd4f">get_all_accessions</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  <span class="keywordflow">return</span> [ keys( %{ $self-&gt;{dbas_by_acc} } ) ];</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a8775d77a2d02b201dcc52ac0d42e7f8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_assemblies </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Return list of all INSDC assembly accessions registered with the helper
    Exceptions  : None
    Return type : Arrayref of strings
 </pre><div id="codesection-get_all_assemblies" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_assemblies-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_assemblies-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_assemblies-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a8775d77a2d02b201dcc52ac0d42e7f8f">get_all_assemblies</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  <span class="keywordflow">return</span> [ keys( %{ $self-&gt;{dbas_by_gc} } ) ];</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a4118bf6e1922602c1f296bed76e4dddf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_by_accession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Returns the database adaptor(s) that contains a seq_region with the supplied INSDC accession (or other seq_region name)
    Argument    : Int
    Exceptions  : None
    Return type : Arrayref of Bio::EnsEMBL::DBSQL::DatabaseAdaptor
 </pre><div id="codesection-get_all_by_accession" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_by_accession-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_by_accession-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_by_accession-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a4118bf6e1922602c1f296bed76e4dddf">get_all_by_accession</a> {</div>
<div class="line">  my ( $self, $acc ) = @_;</div>
<div class="line">  my $dba = $self-&gt;{dbas_by_vacc}{$acc};</div>
<div class="line">  <span class="keywordflow">if</span> ( !defined $dba ) {</div>
<div class="line">    $acc =~ s/\.[0-9]+$<span class="comment">//x;</span></div>
<div class="line">    $dba = $self-&gt;{dbas_by_acc}{$acc};</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> $dba;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="aa51ea23e88d57638d80daddb9b425618"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_by_dbname </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Returns all database adaptors that have the supplied dbname
    Argument    : String
    Exceptions  : None
    Return type : Arrayref of Bio::EnsEMBL::DBSQL::DatabaseAdaptor
 </pre><div id="codesection-get_all_by_dbname" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_by_dbname-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_by_dbname-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_by_dbname-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aa51ea23e88d57638d80daddb9b425618">get_all_by_dbname</a> {</div>
<div class="line">  my ( $self, $dbname ) = @_;</div>
<div class="line"></div>
<div class="line">  my @filtered_dbas;</div>
<div class="line"></div>
<div class="line">  my $all = $self-&gt;get_all();</div>
<div class="line">  <span class="keywordflow">foreach</span> my $dba ( values %{ $self-&gt;{dbas} } ) {</div>
<div class="line">    <span class="keywordflow">if</span> ( $dba-&gt;dbc-&gt;dbname eq $dbname ) {</div>
<div class="line">      push @filtered_dbas, $dba;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> \@filtered_dbas;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a0d19a031f2228d203741fb04ba9ba931"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_by_name_pattern </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Return all database adaptors that have an alias/name that match the supplied regexp
    Argument    : String
    Exceptions  : None
    Return type : Arrayref of Bio::EnsEMBL::DBSQL::DatabaseAdaptor
 </pre><div id="codesection-get_all_by_name_pattern" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_by_name_pattern-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_by_name_pattern-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_by_name_pattern-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a0d19a031f2228d203741fb04ba9ba931">get_all_by_name_pattern</a> {</div>
<div class="line">  my ( $self, $pattern ) = @_;</div>
<div class="line">  my %dbas;</div>
<div class="line">  <span class="keywordflow">for</span> my $name ( keys %{ $self-&gt;{dbas_by_name} } ) {</div>
<div class="line">    <span class="keywordflow">if</span> ( $name =~ m/$pattern/x ) {</div>
<div class="line">      <span class="keywordflow">for</span> my $dba ( @{ $self-&gt;{dbas_by_name}{$name} } ) {</div>
<div class="line">        my $key = <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a33750117ab1c474dd86ac60ffd7a0746">_dba_to_locator</a>($dba);</div>
<div class="line">        $dbas{$key} = $dba;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> [ values(%dbas) ];</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a9e6aab80a79229eefdab5395ca7d56e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::LookUp::LocalLookUp::get_all_by_taxon_branch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-get_all_by_taxon_branch" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_by_taxon_branch-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_by_taxon_branch-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_by_taxon_branch-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a9e6aab80a79229eefdab5395ca7d56e3">get_all_by_taxon_branch</a> {</div>
<div class="line">  my ( $self, $root ) = @_;</div>
<div class="line">  <span class="keywordflow">if</span> ( ref($root) ne <span class="stringliteral">&#39;Bio::EnsEMBL::TaxonomyNode&#39;</span> ) {</div>
<div class="line">    <span class="keywordflow">if</span> ( looks_like_number($root) ) {</div>
<div class="line">      $root = $self-&gt;taxonomy_adaptor()-&gt;fetch_by_taxon_id($root);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">      ($root) =</div>
<div class="line">        @{ $self-&gt;taxonomy_adaptor()-&gt;fetch_all_by_name($root) };</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> ( !defined $root ) {</div>
<div class="line">    <span class="keywordflow">return</span> [];</div>
<div class="line">  }</div>
<div class="line">  my @genomes = @{ $self-&gt;get_all_by_taxon_id( $root-&gt;taxon_id() ) };</div>
<div class="line">  <span class="keywordflow">for</span> my $node ( @{ $root-&gt;adaptor()-&gt;fetch_descendants($root) } ) {</div>
<div class="line">    @genomes = ( @genomes,</div>
<div class="line">                 @{ $self-&gt;get_all_by_taxon_id( $node-&gt;taxon_id() ) } );</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> \@genomes;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a1cb07f5441b9b25ea8ffe85b93f7ac1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_by_taxon_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Returns all database adaptors that have the supplied taxonomy ID
    Argument    : Int
    Exceptions  : None
    Return type : Arrayref of Bio::EnsEMBL::DBSQL::DatabaseAdaptor
 </pre><div id="codesection-get_all_by_taxon_id" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_by_taxon_id-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_by_taxon_id-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_by_taxon_id-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a1cb07f5441b9b25ea8ffe85b93f7ac1c">get_all_by_taxon_id</a> {</div>
<div class="line">  my ( $self, $id ) = @_;</div>
<div class="line">  <span class="keywordflow">return</span> $self-&gt;{dbas_by_taxid}{$id} || [];</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ac78e43c2af6f50038c6ced78ce345855"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_DBConnections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Return all database connections used by the DBAs retrieved from the registry
    Argument    : None
    Exceptions  : None
    Return type : Arrayref of Bio::EnsEMBL::DBSQL::DBConnection
 </pre><div id="codesection-get_all_DBConnections" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_DBConnections-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_DBConnections-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_DBConnections-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ac78e43c2af6f50038c6ced78ce345855">get_all_DBConnections</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  my $adaptors = $self-&gt;registry()-&gt;get_all_DBAdaptors();</div>
<div class="line">  my %dbcs;</div>
<div class="line">  <span class="keywordflow">foreach</span> my $dba ( values %{ $self-&gt;{dbas} } ) {</div>
<div class="line">    my $dbc = $dba-&gt;dbc();</div>
<div class="line">    $dbcs{ <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a2e5521e5f6f171fe369f8834e37dba80">_dbc_to_locator</a>($dbc) } = $dbc;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> [ values %dbcs ];</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="aa6033f7cc60294138811c3c611e884fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_dbnames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Return all database names used by the DBAs retrieved from the registry
    Argument    : None
    Exceptions  : None
    Return type : Arrayref of strings
 </pre><div id="codesection-get_all_dbnames" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_dbnames-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_dbnames-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_dbnames-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aa6033f7cc60294138811c3c611e884fa">get_all_dbnames</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  my %dbnames;</div>
<div class="line">  <span class="keywordflow">foreach</span> my $dba ( values %{ $self-&gt;{dbas} } ) {</div>
<div class="line">    my $dbc = $dba-&gt;dbc();</div>
<div class="line">    $dbnames{ $dbc-&gt;dbname }++;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> [ keys %dbnames ];</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ace7351dd3762ae8b47055a3ec875a994"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_names </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Return list of all species names registered with the helper
    Exceptions  : None
    Return type : Arrayref of strings
 </pre><div id="codesection-get_all_names" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_names-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_names-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_names-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ace7351dd3762ae8b47055a3ec875a994">get_all_names</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  <span class="keywordflow">return</span> [ keys( %{ $self-&gt;{dbas_by_name} } ) ];</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ab3bcc587a34d213de61c101fa56574ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_taxon_ids </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Return list of all taxon IDs registered with the helper
    Exceptions  : None
    Return type : Arrayref of integers
 </pre><div id="codesection-get_all_taxon_ids" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_taxon_ids-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_taxon_ids-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_taxon_ids-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ab3bcc587a34d213de61c101fa56574ce">get_all_taxon_ids</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  <span class="keywordflow">return</span> [ keys( %{ $self-&gt;{dbas_by_taxid} } ) ];</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ab19b87fe6efb3a24087f9da2776603e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_versioned_accessions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Return list of all versioned INSDC sequence accessions (or other seq_region names) registered with the helper
    Exceptions  : None
    Return type : Arrayref of strings
 </pre><div id="codesection-get_all_versioned_accessions" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_versioned_accessions-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_versioned_accessions-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_versioned_accessions-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ab19b87fe6efb3a24087f9da2776603e1">get_all_versioned_accessions</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  <span class="keywordflow">return</span> [ keys( %{ $self-&gt;{dbas_by_vacc} } ) ];</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a5c7d5c135fedb671a2abf8db8f92630b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_all_versioned_assemblies </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Return list of all versioned INSDC assembly accessions registered with the helper
    Exceptions  : None
    Return type : Arrayref of strings
 </pre><div id="codesection-get_all_versioned_assemblies" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_all_versioned_assemblies-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_all_versioned_assemblies-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_all_versioned_assemblies-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a5c7d5c135fedb671a2abf8db8f92630b">get_all_versioned_assemblies</a> {</div>
<div class="line">  my ($self) = @_;</div>
<div class="line">  <span class="keywordflow">return</span> [ keys( %{ $self-&gt;{dbas_by_vgc} } ) ];</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ad8b2a99f0bcc7d7c03d30159526577f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::DBSQL::DatabaseAdaptor Bio::EnsEMBL::LookUp::LocalLookUp::get_by_assembly_accession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Returns the database adaptor that contains the assembly with the supplied INSDC assembly accession
    Argument    : Int
    Exceptions  : None
    Return type : Bio::EnsEMBL::DBSQL::DatabaseAdaptor
 </pre><div id="codesection-get_by_assembly_accession" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_by_assembly_accession-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_by_assembly_accession-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_by_assembly_accession-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#ad8b2a99f0bcc7d7c03d30159526577f7">get_by_assembly_accession</a> {</div>
<div class="line">  my ( $self, $acc ) = @_;</div>
<div class="line">  my $dba = $self-&gt;{dbas_by_vgc}{$acc};</div>
<div class="line">  <span class="keywordflow">if</span> ( !defined $dba ) {</div>
<div class="line">    $acc =~ s/\.[0-9]+$<span class="comment">//x;</span></div>
<div class="line">    $dba = $self-&gt;{dbas_by_gc}{$acc};</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> $dba;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a8e4371b3e5c7129d9cf277e294cc0a5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Arrayref Bio::EnsEMBL::LookUp::LocalLookUp::get_by_name_exact </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Return all database adaptors that have the supplied string as an alias/name
    Argument    : String
    Exceptions  : None
    Return type : Arrayref of Bio::EnsEMBL::DBSQL::DatabaseAdaptor
 </pre><div id="codesection-get_by_name_exact" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-get_by_name_exact-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_by_name_exact-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_by_name_exact-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a8e4371b3e5c7129d9cf277e294cc0a5e">get_by_name_exact</a> {</div>
<div class="line">  my ( $self, $name ) = @_;</div>
<div class="line">  <span class="keywordflow">return</span> $self-&gt;{dbas_by_name}{$name};</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a0b69cc4af6ad4a2ec86e8d0f21399d7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::LookUp::LocalLookUp::load_registry_from_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-load_registry_from_file" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-load_registry_from_file-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-load_registry_from_file-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-load_registry_from_file-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a0b69cc4af6ad4a2ec86e8d0f21399d7a">load_registry_from_file</a> {</div>
<div class="line">  my ( $self, $file ) = @_;</div>
<div class="line">  open( my $fh, <span class="charliteral">&#39;&lt;&#39;</span>, $file ) or croak &quot;Cannot open file $file: $!&quot;;</div>
<div class="line">  my $data = do { local $/ = undef; &lt;$fh&gt; };</div>
<div class="line">  close($fh);</div>
<div class="line">  <span class="keywordflow">if</span> ( defined $data &amp;&amp; $data ne <span class="stringliteral">&#39;&#39;</span> ) {</div>
<div class="line">    $self-&gt;_load_registry_from_json($data);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a74356e09c3243bcbab5121c24c26eee6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::LookUp::LocalLookUp::load_registry_from_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-load_registry_from_url" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-load_registry_from_url-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-load_registry_from_url-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-load_registry_from_url-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a74356e09c3243bcbab5121c24c26eee6">load_registry_from_url</a> {</div>
<div class="line">  my ( $self, $url ) = @_;</div>
<div class="line">  my $json = <span class="keyword">get</span>($url);</div>
<div class="line">  croak <span class="stringliteral">&quot;Could not retrieve JSON from $url: $@&quot;</span> unless defined $json;</div>
<div class="line">  $self-&gt;_load_registry_from_json($json);</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ab78380bb6a3ec6c927925f07b4079964"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::LookUp::LocalLookUp::new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-new" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <span class="keyword">new</span> {</div>
<div class="line">  my ( $class, @args ) = @_;</div>
<div class="line">  my $self = bless( {}, ref($class) || $class );</div>
<div class="line">  my ( $reg, $url, $file, $nocache, $cache_file, $clear_cache, $skip_contigs ) =</div>
<div class="line">    rearrange( [qw(registry url file no_cache cache_file clear_cache skip_contigs)],</div>
<div class="line">               @args );</div>
<div class="line">  <span class="keywordflow">if</span> ( !defined $reg ) { $reg = <span class="stringliteral">&#39;Bio::EnsEMBL::Registry&#39;</span> }</div>
<div class="line">  $self-&gt;{<a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a6e44afef58e07ac928c5ee914a06978b">registry</a>}      = $reg;</div>
<div class="line">  $self-&gt;{dbas_by_taxid} = {};</div>
<div class="line">  $self-&gt;{dbas_by_name}  = {};</div>
<div class="line">  $self-&gt;{dbas_by_acc}   = {};</div>
<div class="line">  $self-&gt;{dbas_by_vacc}  = {};</div>
<div class="line">  $self-&gt;{dbas_by_gc}    = {};</div>
<div class="line">  $self-&gt;{dbas_by_vgc}   = {};</div>
<div class="line">  $self-&gt;{dbas}          = {};</div>
<div class="line">  $self-&gt;{dbc_meta}      = {};</div>
<div class="line">  $self-&gt;{skip_contigs}  = $skip_contigs;</div>
<div class="line">  $cache_file ||= $default_cache_file;</div>
<div class="line">  $self-&gt;cache_file($cache_file);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> ( defined $clear_cache &amp;&amp; $clear_cache == 1 ) {</div>
<div class="line">    $self-&gt;clear_cache();</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> ( !$nocache &amp;&amp; !defined $file &amp;&amp; -e $cache_file ) {</div>
<div class="line">    $file = $cache_file;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> ( defined $file ) {</div>
<div class="line">    $self-&gt;load_registry_from_file($file);</div>
<div class="line">  }</div>
<div class="line">  elsif ( defined $url ) {</div>
<div class="line">    $self-&gt;load_registry_from_url($url);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    $self-&gt;update_from_registry();</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> ( !$nocache &amp;&amp; !-e $cache_file ) {</div>
<div class="line">    $self-&gt;write_registry_to_file($cache_file);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> $self;</div>
<div class="line">} ## end sub <span class="keyword">new</span></div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="ae9a05fa751b5559b883a114392f31ad9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public void Bio::EnsEMBL::LookUp::LocalLookUp::register_all_dbs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Helper method to load the registry with all multispecies core databases on the supplied server
    Argument    : Host
    Argument    : Port
    Argument    : User
    Argument    : Password
    Argument    : (optional) String with database regexp (default is _collection_core_[0-9]_eVersion_[0-9]+)
    Exceptions  : None
    Return type : None
 </pre><div id="codesection-register_all_dbs" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-register_all_dbs-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-register_all_dbs-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-register_all_dbs-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp.html#a1e2fd5181ddeae8d7683a56affa1733c">register_all_dbs</a> {</div>
<div class="line">  my ( $class, $host, $port, $user, $pass, $regexp ) = @_;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> ( !$regexp ) {</div>
<div class="line">    $regexp = <span class="stringliteral">&#39;_core_[0-9]+_&#39;</span> . software_version() . <span class="stringliteral">&#39;_[0-9]+&#39;</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> ( !defined $host ) {</div>
<div class="line">    croak <span class="stringliteral">&quot;Host must be supplied for registration of databases&quot;</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> ( !defined $port ) {</div>
<div class="line">    croak</div>
<div class="line"><span class="stringliteral">&quot;Port must be supplied for registration of databases on host $host&quot;</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  my $str = <span class="stringliteral">&quot;DBI:mysql:host=$host;port=$port&quot;</span>;</div>
<div class="line">  my $dbh = DBI-&gt;connect( $str, $user, $pass ) ||</div>
<div class="line">    croak <span class="stringliteral">&quot;Could not connect to database $str (user=$user, pass=$pass)&quot;</span>;</div>
<div class="line"></div>
<div class="line">  my @dbnames =</div>
<div class="line">    grep { m/$regexp/xi }</div>
<div class="line">    map  { $_-&gt;[0] } @{ $dbh-&gt;selectall_arrayref(<span class="stringliteral">&#39;SHOW DATABASES&#39;</span>) };</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> my $db (@dbnames) {</div>
<div class="line">    <span class="keywordflow">if</span> ( $db =~ m/.*_collection_core_.*/ ) {</div>
<div class="line">      <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a7d8f87ea6f820cdc85a9cef64f5cc527">_register_multispecies_core</a>( $host, $port, $user, $pass, $db );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">      <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a6087a191688596a0169895507c2e1948">_register_singlespecies_core</a>( $host, $port, $user, $pass, $db );</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">} ## end sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp.html#a1e2fd5181ddeae8d7683a56affa1733c">register_all_dbs</a></div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a6e44afef58e07ac928c5ee914a06978b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Registry Bio::EnsEMBL::LookUp::LocalLookUp::registry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>
  Arg [1]     : Registry module to use (default is Bio::EnsEMBL::Registry)
  Description : Sets and retrieves the Registry 
  Returntype  : Registry if set; otherwise undef
  Exceptions  : if an attempt is made to set the value more than once
  Status      : Stable
 </pre><div id="codesection-registry" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-registry-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-registry-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-registry-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a6e44afef58e07ac928c5ee914a06978b">registry</a> {</div>
<div class="line">  my ( $self, $registry ) = @_;</div>
<div class="line">  <span class="keywordflow">if</span> ( defined $registry ) {</div>
<div class="line">    <span class="keywordflow">if</span> ( exists $self-&gt;{registry} ) {</div>
<div class="line">      <span class="keywordflow">throw</span>(<span class="stringliteral">&#39;Cannot reset the Registry object; already defined &#39;</span>);</div>
<div class="line">    }</div>
<div class="line">    $self-&gt;{<a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a6e44afef58e07ac928c5ee914a06978b">registry</a>} = $registry;</div>
<div class="line">    $self-&gt;update_from_registry();</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> $self-&gt;{<a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a6e44afef58e07ac928c5ee914a06978b">registry</a>};</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a747cc736051212b616e1df95eb36ba70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::LookUp::LocalLookUp::taxonomy_adaptor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-taxonomy_adaptor" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-taxonomy_adaptor-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-taxonomy_adaptor-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-taxonomy_adaptor-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a747cc736051212b616e1df95eb36ba70">taxonomy_adaptor</a> {</div>
<div class="line">  my ( $self, $adaptor ) = @_;</div>
<div class="line">  <span class="keywordflow">if</span> ( defined $adaptor ) {</div>
<div class="line">    $self-&gt;{<a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a747cc736051212b616e1df95eb36ba70">taxonomy_adaptor</a>} = $adaptor;</div>
<div class="line">  }</div>
<div class="line">  elsif ( !defined $self-&gt;{taxonomy_adaptor} ) {</div>
<div class="line">    $self-&gt;{<a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a747cc736051212b616e1df95eb36ba70">taxonomy_adaptor</a>} =</div>
<div class="line">      <a class="code" href="classBio_1_1EnsEMBL_1_1DBSQL_1_1TaxonomyNodeAdaptor.html">Bio::EnsEMBL::DBSQL::TaxonomyNodeAdaptor</a>-&gt;<a class="code" href="classBio_1_1EnsEMBL_1_1DBSQL_1_1TaxonomyNodeAdaptor.html#a8f07fa12d6dfa71850bdfbc28cb07e2d">new_public</a>();</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> $self-&gt;{<a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a747cc736051212b616e1df95eb36ba70">taxonomy_adaptor</a>};</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="a6e048fa6ac0febfc23051767c9beea83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::LookUp::LocalLookUp::update_from_registry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Update internal hashes of database adaptors by name/taxids from the registry. Invoke when registry has been updated independently.
    Argument    : (optional) If set to 1, do not update from a DBAdaptor if already processed (allows updates of an existing <a class="el" href="classBio_1_1EnsEMBL_1_1LookUp.html">LookUp</a> instance)
    Exceptions  : None
 </pre><div id="codesection-update_from_registry" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-update_from_registry-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-update_from_registry-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-update_from_registry-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#a6e048fa6ac0febfc23051767c9beea83">update_from_registry</a> {</div>
<div class="line">  my ( $self, $update_only ) = @_;</div>
<div class="line">  $self-&gt;_intern_db_connections();</div>
<div class="line">  <span class="keywordflow">for</span> my $dba (</div>
<div class="line">        @{ $self-&gt;registry()-&gt;get_all_DBAdaptors( -group =&gt; <span class="stringliteral">&#39;core&#39;</span> ) } )</div>
<div class="line">  {</div>
<div class="line">    $self-&gt;_hash_dba( $dba, $update_only );</div>
<div class="line">        $dba-&gt;dbc()-&gt;disconnect_if_idle();</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<a class="anchor" id="aa4c72f3de0b7bef96ba8f8d8cf862f44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public void Bio::EnsEMBL::LookUp::LocalLookUp::write_registry_to_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre>   Description : Write the contents of the registry and species lists to a JSON file
    Argument    : File name
    Return      : None
 </pre><div id="codesection-write_registry_to_file" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
    <img id='codesection-write_registry_to_file-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-write_registry_to_file-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-write_registry_to_file-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><div class="line">sub <a class="code" href="classBio_1_1EnsEMBL_1_1LookUp_1_1LocalLookUp.html#aa4c72f3de0b7bef96ba8f8d8cf862f44">write_registry_to_file</a> {</div>
<div class="line">  my ( $self, $file ) = @_;</div>
<div class="line">  my $json = $self-&gt;_registry_to_json();</div>
<div class="line">  <span class="keywordflow">if</span> ($json) {</div>
<div class="line">    open( my $fh, <span class="charliteral">&#39;&gt;&#39;</span>, $file ) ||</div>
<div class="line">      croak <span class="stringliteral">&quot;Cannot open &#39;${file}&#39; for writing: $!&quot;</span>;</div>
<div class="line">    print $fh $json;</div>
<div class="line">    close($fh);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> </div> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>modules/Bio/EnsEMBL/LookUp/LocalLookUp.pm</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
